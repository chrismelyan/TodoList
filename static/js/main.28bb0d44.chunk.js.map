{"version":3,"sources":["features/App/selectors.ts","utils/redux-utils.ts","features/CommonActions/App.ts","components/ErrorSnackBar/ErrorSnackBar.tsx","api/types.ts","components/AddItemForm/AddItemForm.tsx","components/EditableSpan/EditableSpan.tsx","features/TodolistList/selectors.ts","api/todolists-api.ts","utils/error-utils.ts","features/TodolistList/todolist/todolist-reducer.ts","features/TodolistList/todolist/task/tasks-reducer.ts","features/TodolistList/index.ts","features/TodolistList/todolist/task/Task.tsx","features/TodolistList/todolist/TodoList.tsx","features/Auth/selectors.ts","features/Auth/auth-reducer.ts","features/Auth/Login.tsx","features/Auth/index.ts","features/TodolistList/TodolistsList.tsx","features/App/app-reducer.ts","features/App/index.ts","app/App.tsx","serviceWorker.ts","app/store.ts","index.tsx"],"names":["selectStatus","state","app","status","selectIsInitialized","isInitialized","selectError","error","useAppDispatch","useDispatch","useActions","action","dispatch","useMemo","bindActionCreators","setAppStatus","createAction","appActions","setAppError","Alert","React","props","ref","elevation","variant","ErrorSnackbar","useSelector","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","sx","width","TaskStatuses","TaskPriorities","ResultCodeStatuses","AddItemForm","memo","callbackAddValue","entityStatus","useState","title","setTitle","setError","onClickAddTask","trimmedTitle","trim","TextField","value","onChange","e","currentTarget","onKeyPress","key","label","className","helperText","disabled","IconButton","color","onClick","AddBox","fontSize","EditableSpan","edit","setEdit","autoFocus","onBlur","callbackUpdate","size","onDoubleClick","selectTodolists","todolists","selectTasks","tasks","instance","axios","create","baseURL","withCredentials","headers","todolistsAPI","get","post","todolistId","delete","put","taskId","model","authAPI","data","handleAsyncServerAppError","thunkAPI","showError","messages","length","rejectWithValue","errors","fieldsErrors","handleAsyncServerNetworkError","message","undefined","getTodolists","createAsyncThunk","param","a","addTodolist","res","resultCode","success","todolist","item","removeTodolist","changeTodolistEntityStatus","todolistID","id","changeTodolistTitle","asyncActions","slice","createSlice","name","initialState","reducers","changeFilterAC","index","findIndex","el","payload","filter","clearDataAC","extraReducers","builder","addCase","fulfilled","map","unshift","splice","actions","getTasks","items","addTask","removeTask","updateTask","getState","task","find","t","apiModel","deadline","description","priority","startDate","todolistActions","forEach","todoListId","tasksReducer","reducer","taskSliceActions","todolistReducer","todolistSlice","asyncTodolistActions","tasksActions","asyncTaskActions","Task","removeTaskCallback","useCallback","changeStatus","checked","Completed","New","updateTaskTitle","Checkbox","TodoList","useEffect","addTaskCallback","changeTodoTitle","onFilterButton","tasksForTodolist","Delete","List","style","padding","Button","selectIsLoggedIn","auth","isLoggedIn","login","logout","setIsLoggedIn","Login","authSelectors","formik","useFormik","initialValues","email","password","rememberMe","validate","values","test","onSubmit","formikHelpers","authActions","rejected","match","setFieldError","field","to","Grid","container","justifyContent","Paper","background","handleSubmit","FormControl","FormLabel","href","target","rel","FormGroup","margin","getFieldProps","touched","type","FormControlLabel","control","authReducer","TodolistsList","todolistSelectors","navigate","useNavigate","addTodolists","spacing","todolistTasks","initializedApp","appReducer","App","logoutHandler","Box","flexGrow","AppBar","position","Toolbar","edge","aria-label","mr","Menu","Typography","component","LinearProgress","Container","fixed","path","element","textAlign","top","CircularProgress","Boolean","window","location","hostname","rootReducer","combineReducers","store","configureStore","middleware","getDefaultMiddleware","prepend","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.28bb0d44.chunk.js","sourcesContent":["import {AppRootStoreType} from \"../../utils/types\";\n\nexport const selectStatus = (state: AppRootStoreType) => state.app.status\nexport const selectIsInitialized = (state: AppRootStoreType) => state.app.isInitialized\nexport const selectError = (state: AppRootStoreType) => state.app.error","import {useDispatch} from \"react-redux\";\nimport {ActionCreatorsMapObject, bindActionCreators} from \"redux\";\nimport {useMemo} from \"react\";\nimport {AppDispatchType} from \"./types\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatchType>()\nexport function useActions<T extends ActionCreatorsMapObject<any>>(action: T) {\n    const dispatch = useAppDispatch()\n\n    const boundActions = useMemo(() => {\n        return bindActionCreators(action, dispatch)\n    }, [])\n\n    return boundActions\n}","import {createAction} from \"@reduxjs/toolkit\";\nimport {RequestStatusType} from \"../App/app-reducer\";\n\nconst setAppStatus = createAction<{status: RequestStatusType}>('app/setAppStatus')\nconst setAppError = createAction<{error: string | null}>('appAction/setAppError')\n\nexport const appActions = {\n    setAppError,\n    setAppStatus\n}","import * as React from 'react';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert, {AlertProps} from '@mui/material/Alert';\nimport {useSelector} from \"react-redux\";\nimport {selectError} from \"../../features/App/selectors\";\nimport {useActions} from \"../../utils/redux-utils\";\nimport {appActions} from \"../../features/CommonActions/App\";\n\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n    props,\n    ref,\n) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport function ErrorSnackbar() {\n    const error = useSelector(selectError);\n    const {setAppError} = useActions(appActions)\n\n    const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setAppError({error: null})\n    };\n\n    return (\n        <Snackbar open={error !== null} autoHideDuration={6000} onClose={handleClose}>\n            <Alert onClose={handleClose} severity=\"error\" sx={{width: '100%'}}>\n                {error}\n            </Alert>\n        </Snackbar>\n    );\n}\n","export type LoginParamsType = {\n    email: string\n    password: string\n    rememberMe?: boolean\n    captcha?: string\n}\nexport type TodolistType = {\n    id: string\n    addedDate: string\n    order: number\n    title: string\n}\nexport enum TaskStatuses {\n    New = 0,\n    InProgress = 1,\n    Completed = 2,\n    Draft = 3\n}\nexport enum TaskPriorities {\n    Low = 0,\n    Middle = 1,\n    Hi = 2,\n    Urgently = 3,\n    Later = 4\n}\nexport enum ResultCodeStatuses {\n    success = 0,\n    error = 1,\n    captcha = 10\n}\nexport type TaskType = {\n    description: string\n    title: string\n    status: TaskStatuses\n    priority: TaskPriorities\n    startDate: string\n    deadline: string\n    id: string\n    todoListId: string\n    order: number\n    addedDate: string\n}\nexport type UpdateTaskType = {\n    title: string\n    description: string\n    status: number\n    priority: number\n    startDate: string\n    deadline: string\n}\nexport type FieldsErrorType = {field: string, error: string}\nexport type ResponseType<D> = {\n    resultCode: number\n    messages: Array<string>\n    fieldsErrors?: Array<FieldsErrorType>\n    data: D\n}\nexport type GetTasksResponseType = {\n    items: Array<TaskType>\n    totalCount: number\n    error: string | null\n}","import React, {ChangeEvent, useState, KeyboardEvent} from 'react';\nimport TextField from '@mui/material/TextField';\nimport {IconButton} from \"@mui/material\";\nimport {AddBox} from \"@mui/icons-material\";\nimport {RequestStatusType} from \"../../features/App/app-reducer\";\n\nexport type AddItemFormSubmitHelperType = { setError: (error: string) => void, setTitle: (title: string) => void}\ntype InputFormType = {\n    callbackAddValue: (title: string) => void\n    entityStatus?: RequestStatusType\n}\nconst AddItemForm: React.FC<InputFormType> = React.memo(({callbackAddValue, entityStatus}) => {\n    const [title, setTitle] = useState<string>('')\n    const [error, setError] = useState<string | null>(null)\n\n    const onClickAddTask = () => {\n        const trimmedTitle = title.trim()\n        if (trimmedTitle) {\n            callbackAddValue(trimmedTitle)\n        } else {\n            setError('Title is required')\n        }\n        setTitle('')\n    }\n    const onChangeSetTitle = (e: ChangeEvent<HTMLInputElement>) => {\n        setTitle(e.currentTarget.value)\n        setError(null)\n    }\n    const onKeyPressSetTitle = (e: KeyboardEvent<HTMLInputElement>) => {\n        e.key === 'Enter' && onClickAddTask()\n    }\n\n    return (\n        <div>\n            <TextField value={title}\n                       error={!!error}\n                       onChange={onChangeSetTitle}\n                       onKeyPress={onKeyPressSetTitle}\n                       label={'Title'}\n                       className={error ? 'error' : ''}\n                       helperText={error}\n                       disabled={entityStatus === 'loading'}/>\n\n            <IconButton color=\"primary\" onClick={onClickAddTask}>\n                <AddBox fontSize='large'/>\n            </IconButton>\n        </div>\n    );\n})\n\nexport default AddItemForm;\n\n","import React, {ChangeEvent, useState} from 'react';\nimport TextField from '@mui/material/TextField';\n\ntype EditableSpanType = {\n    value: string\n    callbackUpdate: (title: string) => void\n}\n\nconst EditableSpan = React.memo((props: EditableSpanType) => {\n        const [edit, setEdit] = useState<boolean>(false);\n        const [title, setTitle] = useState<string>('')\n\n        const activateEditMode = () => {\n            setEdit(true)\n            setTitle(props.value)\n        }\n        const deactivateEditMode = () => {\n            props.callbackUpdate(title)\n            setEdit(false)\n        }\n        const changeTitle = (e: ChangeEvent<HTMLInputElement>) => {\n            setTitle(e.currentTarget.value)\n        }\n\n        return (\n            edit\n                ? <TextField variant=\"outlined\"\n                             value={title}\n                             onChange={changeTitle}\n                             autoFocus\n                             onBlur={deactivateEditMode}\n                             size={'small'}\n                />\n                : <span onDoubleClick={activateEditMode}>{props.value}</span>\n        );\n    }\n);\n\nexport default EditableSpan;","import {AppRootStoreType} from \"../../utils/types\";\n\nexport const selectTodolists = (state: AppRootStoreType) => state.todolists\nexport const selectTasks = (state: AppRootStoreType) => state.tasks\n","import axios from 'axios'\nimport {GetTasksResponseType, LoginParamsType, TaskType, TodolistType, UpdateTaskType, ResponseType} from \"./types\";\n\nconst settings = {\n    withCredentials: true,\n    headers: {\n        'API-KEY': '344e1d93-75ad-4579-8284-aae71a3ea37e'\n    }\n}\nconst instance = axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.1/',\n    ...settings\n})\n\n// api\nexport const todolistsAPI = {\n    getTodolist() {\n        return instance.get<Array<TodolistType>>('todo-lists')\n    },\n    createTodolist(title: string) {\n        return instance.post<ResponseType<{item: TodolistType}>>('todo-lists', {title})\n    },\n    deleteTodolist(todolistId: string) {\n        return instance.delete<ResponseType<{}>>(`todo-lists/${todolistId}`)\n    },\n    updateTodolist(todolistId: string, title: string) {\n        return instance.put<ResponseType<{}>>(`todo-lists/${todolistId}`, {title})\n    },\n    getTasks(todolistId: string) {\n        return instance.get<GetTasksResponseType>(`todo-lists/${todolistId}/tasks`)\n    },\n    createTask(todolistId: string, title: string) {\n        return instance.post<ResponseType<{item: TaskType}>>(`todo-lists/${todolistId}/tasks`, {title})\n    },\n    updateTask(todolistId: string, taskId: string, model: UpdateTaskType) {\n        return instance.put<ResponseType<{item: TaskType}>>(`/todo-lists/${todolistId}/tasks/${taskId}`, model)\n    },\n    deleteTask(todolistId: string, taskId: string) {\n        return instance.delete<ResponseType<{}>>(`/todo-lists/${todolistId}/tasks/${taskId}`)\n    }\n}\n\nexport const authAPI = {\n    login(data: LoginParamsType) {\n        return instance.post<ResponseType<{userId: number}>>('auth/login', data);\n    },\n    logout() {\n        return instance.delete<ResponseType<{}>>('auth/login');\n    },\n    me() {\n        return instance.get<ResponseType<{id: number, email: string, login: string}>>('/auth/me');\n    }\n}\n","import {appActions} from \"../features/CommonActions/App\";\nimport {ResponseType} from '../api/types';\nimport {AxiosError} from \"axios\";\n\n// original type:\n// BaseThunkAPI<S, E, D extends Dispatch = Dispatch, RejectedValue = undefined>\ntype ThunkAPIType = {\n    dispatch: (action: any) => any\n    rejectWithValue: Function\n}\n\nexport const handleAsyncServerAppError = <D>(data: ResponseType<D>, thunkAPI: ThunkAPIType, showError = true) => {\n    if (showError) {\n        thunkAPI.dispatch(appActions.setAppError({error: data.messages.length ? data.messages[0] : 'some error occurred'}))\n    }\n    thunkAPI.dispatch(appActions.setAppStatus({status: 'failed'}));\n    return thunkAPI.rejectWithValue({errors: data.messages, fieldsErrors: data.fieldsErrors});\n}\n\nexport const handleAsyncServerNetworkError = (error: AxiosError, thunkAPI: ThunkAPIType, showError = true) => {\n    if (showError) {\n        thunkAPI.dispatch(appActions.setAppError({error: error.message ? error.message : 'some error occurred'}))\n    }\n    thunkAPI.dispatch(appActions.setAppStatus({status: 'failed'}));\n    return thunkAPI.rejectWithValue({errors: [error.message], fieldsErrors: undefined});\n}","import {todolistsAPI} from \"../../../api/todolists-api\";\nimport {RequestStatusType} from \"../../App/app-reducer\";\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {ResultCodeStatuses, TodolistType} from \"../../../api/types\";\nimport {appActions} from \"../../CommonActions/App\";\nimport {handleAsyncServerAppError, handleAsyncServerNetworkError} from \"../../../utils/error-utils\";\nimport {ThunkError} from \"../../../utils/types\";\n\nexport type FilterValuesType = 'all' | 'active' | 'completed'\nexport type TodolistDomainType = TodolistType & {\n    filter: FilterValuesType\n    entityStatus: RequestStatusType\n}\nconst {setAppStatus} = appActions\n\nconst getTodolists = createAsyncThunk<{ todolists: TodolistType[] }, undefined, ThunkError>('todolists/getTodolists', async (param, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    try {\n        const data = await todolistsAPI.getTodolist()\n        thunkAPI.dispatch(setAppStatus({status: 'succeeded'}))\n        return {todolists: data.data}\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\nconst addTodolist = createAsyncThunk<{todolist: TodolistType}, string, ThunkError>\n('todolists/addTodolist', async (title, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    try {\n        const res = await todolistsAPI.createTodolist(title)\n        if (res.data.resultCode === ResultCodeStatuses.success) {\n            thunkAPI.dispatch(setAppStatus({status: 'succeeded'}))\n            return {todolist: res.data.data.item}\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI, false)\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI, false)\n    }\n})\nconst removeTodolist = createAsyncThunk<{ id: string }, string, ThunkError>('todolists/removeTodolist', async (todolistId, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    thunkAPI.dispatch(changeTodolistEntityStatus({todolistID: todolistId, status: 'loading'}))\n    try {\n        const res = await todolistsAPI.deleteTodolist(todolistId)\n        if (res.data.resultCode === 0) {\n            thunkAPI.dispatch(setAppStatus({status: 'succeeded'}))\n            return {id: todolistId}\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI, false)\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\nconst changeTodolistTitle = createAsyncThunk('todolists/changeTodolistTitle', async (param: { todolistId: string, title: string }, thunkAPI) => {\n    try {\n        const res = await todolistsAPI.updateTodolist(param.todolistId, param.title)\n        if (res.data.resultCode === 0) {\n            thunkAPI.dispatch(setAppStatus({status: 'succeeded'}))\n            return {id: param.todolistId, title: param.title}\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI, false)\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\n\nexport const asyncActions = {\n    getTodolists,\n    addTodolist,\n    removeTodolist,\n    changeTodolistTitle\n}\n\nexport const slice = createSlice({\n    name: 'todolists',\n    initialState: [] as TodolistDomainType[],\n    reducers: {\n        changeFilterAC(state, action: PayloadAction<{ todolistId: string, value: FilterValuesType }>) {\n            // state.map(el => el.id === action.payload.todolistID ? {...el, filter: action.payload.value} : el);\n            const index = state.findIndex(el => el.id === action.payload.todolistId);\n            state[index].filter = action.payload.value;\n        },\n        changeTodolistEntityStatus(state, action: PayloadAction<{ todolistID: string, status: RequestStatusType }>) {\n            // state.map(el => el.id === action.payload.todolistId ? {...el, entityStatus: action.payload.status} : el);\n            const index = state.findIndex(el => el.id === action.payload.todolistID);\n            state[index].entityStatus = action.payload.status;\n        },\n        clearDataAC(state, action: PayloadAction) {\n            return []\n        }\n    },\n    extraReducers: builder => {\n        builder.addCase(getTodolists.fulfilled, (state, action) => {\n            return action.payload.todolists.map(el => ({...el, filter: 'all', entityStatus: 'idle'}))\n        });\n        builder.addCase(addTodolist.fulfilled, (state, action) => {\n            state.unshift({...action.payload.todolist, filter: 'all', entityStatus: 'idle'})\n        });\n        builder.addCase(removeTodolist.fulfilled, (state, action) => {\n            // state.filter(el => el.id !== action.payload.todolistID);\n            const index = state.findIndex(el => el.id === action.payload.id);\n            if (index > -1) {\n                state.splice(index, 1);\n            }\n        });\n        builder.addCase(changeTodolistTitle.fulfilled, (state, action) => {\n            // state.map(el => el.id === action.payload.todolistID ? {...el, title: action.payload.title} : el);\n            const index = state.findIndex(el => el.id === action.payload.id);\n            if (index > -1) {\n                state[index].title = action.payload.title;\n            }\n        })\n    }\n})\n\nexport const {changeFilterAC, changeTodolistEntityStatus} = slice.actions\n","import {todolistsAPI} from \"../../../../api/todolists-api\";\nimport {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\nimport {ResultCodeStatuses, TaskPriorities, TaskStatuses, TaskType, UpdateTaskType} from \"../../../../api/types\";\nimport {appActions} from \"../../../CommonActions/App\";\nimport {AppRootStoreType, ThunkError} from \"../../../../utils/types\";\nimport {handleAsyncServerAppError, handleAsyncServerNetworkError} from \"../../../../utils/error-utils\";\nimport {todolistActions} from \"../../index\";\n\nconst initialState: TasksStateType = {}\nconst {setAppStatus} = appActions\n\nconst getTasks = createAsyncThunk('tasks/getTasks', async (todolistId: string, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    try {\n        const res = await todolistsAPI.getTasks(todolistId);\n        thunkAPI.dispatch(setAppStatus({status: 'succeeded'}))\n        return {tasks: res.data.items, todolistId: todolistId}\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\nconst addTask = createAsyncThunk('task/addTask', async (param: { todolistId: string, title: string }, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    try {\n        const res = await todolistsAPI.createTask(param.todolistId, param.title);\n        if (res.data.resultCode === ResultCodeStatuses.success) {\n            thunkAPI.dispatch(setAppStatus({status: 'succeeded'}));\n            return res.data.data.item;\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI)\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\nconst removeTask = createAsyncThunk<{ taskId: string, todolistId: string }, { taskId: string, todolistId: string }, ThunkError>('task/removeTask', async (param: { taskId: string, todolistId: string }, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    try {\n        await todolistsAPI.deleteTask(param.todolistId, param.taskId);\n        thunkAPI.dispatch(setAppStatus({status: 'succeeded'}))\n        return {taskId: param.taskId, todolistId: param.todolistId}\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\nconst updateTask = createAsyncThunk('task/changeTaskStatus', async (param: { todolistId: string, taskId: string, model: UpdateDomainTaskModelType }, thunkAPI) => {\n    const state = thunkAPI.getState() as AppRootStoreType;\n    const task = state.tasks[param.todolistId].find(t => t.id === param.taskId)\n    if (!task) {\n        return thunkAPI.rejectWithValue('task is not found')\n    }\n    const apiModel: UpdateTaskType = {\n        deadline: task.deadline,\n        description: task.description,\n        priority: task.priority,\n        startDate: task.startDate,\n        title: task.title,\n        status: task.status,\n        ...param.model\n    }\n    try {\n        const res = await todolistsAPI.updateTask(param.todolistId, param.taskId, apiModel)\n        if (res.data.resultCode === ResultCodeStatuses.success) {\n            return param\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI)\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\n\nexport const asyncActions = {\n    getTasks,\n    addTask,\n    removeTask,\n    updateTask\n}\n\nexport const slice = createSlice({\n    name: 'tasks',\n    initialState: initialState,\n    reducers: {},\n    extraReducers(builder) {\n        builder.addCase(todolistActions.addTodolist.fulfilled, (state, action) => {\n            state[action.payload.todolist.id] = [];\n        });\n        builder.addCase(todolistActions.removeTodolist.fulfilled, (state, action) => {\n            delete state[action.payload.id];\n        });\n        builder.addCase(todolistActions.getTodolists.fulfilled, (state, action) => {\n            action.payload.todolists.forEach(t => state[t.id] = [])\n        });\n        builder.addCase(todolistActions.clearDataAC, (state, action) => {\n            return {}\n        });\n        builder.addCase(getTasks.fulfilled, (state, action) => {\n            state[action.payload.todolistId] = action.payload.tasks;\n        });\n        builder.addCase(removeTask.fulfilled, (state, action) => {\n            const tasks = state[action.payload.todolistId]\n            const index = tasks.findIndex(t => t.id === action.payload.taskId)\n            if (index > -1) {\n                tasks.splice(index, 1)\n            }\n        });\n        builder.addCase(addTask.fulfilled, (state, action) => {\n            state[action.payload.todoListId].unshift(action.payload);\n        });\n        builder.addCase(updateTask.fulfilled, (state, action) => {\n            const tasks = state[action.payload.todolistId];\n            const index = tasks.findIndex(el => el.id === action.payload.taskId);\n            if (index > -1) {\n                tasks[index] = {...tasks[index], ...action.payload.model};\n            }\n        });\n    }\n})\n\nexport const tasksReducer = slice.reducer;\nexport const taskSliceActions = slice.actions;\n\nexport type TasksStateType = {\n    [key: string]: Array<TaskType>\n}\ntype UpdateDomainTaskModelType = {\n    title?: string\n    description?: string\n    status?: TaskStatuses\n    priority?: TaskPriorities\n    startDate?: string\n    deadline?: string\n}","import * as todolistSelectors from './selectors';\nimport {asyncActions as asyncTodolistActions, slice as todolistSlice} from \"./todolist/todolist-reducer\";\nimport TodolistsList from './TodolistsList';\nimport {tasksReducer, taskSliceActions, asyncActions as asyncTaskActions} from './todolist/task/tasks-reducer'\n\nconst todolistReducer = todolistSlice.reducer;\n\nconst todolistActions = {\n    ...todolistSlice.actions,\n    ...asyncTodolistActions,\n};\nconst tasksActions = {\n    ...taskSliceActions,\n    ...asyncTaskActions\n}\n\nexport {\n    todolistSelectors,\n    todolistActions,\n    todolistReducer,\n    TodolistsList,\n    tasksReducer,\n    tasksActions\n}","import React, {ChangeEvent, useCallback} from 'react';\nimport EditableSpan from \"../../../../components/EditableSpan/EditableSpan\";\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\nimport {Checkbox, IconButton} from \"@mui/material\";\nimport {TaskStatuses, TaskType} from \"../../../../api/types\";\nimport {useActions} from \"../../../../utils/redux-utils\";\nimport {tasksActions} from \"../../index\";\n\ntype TaskPropsType = {\n    task: TaskType\n}\nconst Task: React.FC<TaskPropsType> = ({task}) => {\n    const taskId = task.id\n    const todolistId = task.todoListId\n\n    const {removeTask, updateTask} = useActions(tasksActions)\n\n    const removeTaskCallback = useCallback(() => {\n        removeTask({taskId: taskId, todolistId: todolistId})\n    }, [taskId, todolistId])\n\n    const changeStatus = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n       updateTask({todolistId, taskId, model: {status: e.currentTarget.checked\n                   ? TaskStatuses.Completed\n                   : TaskStatuses.New}})\n    }, [todolistId, taskId])\n\n    const updateTaskTitle = useCallback((title: string) => {\n        updateTask({todolistId, taskId, model: {title}})\n    }, [todolistId, taskId])\n\n    return (\n        <div>\n            <Checkbox color={'primary'} onChange={changeStatus} checked={task.status === TaskStatuses.Completed}/>\n            <EditableSpan value={task.title} callbackUpdate={updateTaskTitle}/>\n            <IconButton onClick={removeTaskCallback}>\n                <HighlightOffIcon color={'inherit'}/>\n            </IconButton>\n        </div>\n    );\n};\n\nexport default Task;","import React, {useCallback, useEffect} from 'react';\nimport {FilterValuesType, TodolistDomainType} from \"./todolist-reducer\";\nimport AddItemForm from \"../../../components/AddItemForm/AddItemForm\";\nimport EditableSpan from \"../../../components/EditableSpan/EditableSpan\";\nimport Task from \"./task/Task\";\nimport {Button, IconButton, List} from \"@mui/material\";\nimport {Delete} from \"@mui/icons-material\";\nimport {TaskStatuses, TaskType} from \"../../../api/types\";\nimport {useActions, useAppDispatch} from \"../../../utils/redux-utils\";\nimport {tasksActions, todolistActions} from \"../index\";\n\ntype TodoListPropsType = {\n    todolist: TodolistDomainType\n    tasks: Array<TaskType>\n}\n\nconst TodoList = React.memo(function ({tasks, todolist}: TodoListPropsType) {\n    const dispatch = useAppDispatch()\n    const todolistId = todolist.id\n\n    const {changeTodolistTitle, removeTodolist, changeFilterAC} = useActions(todolistActions)\n    const {addTask, getTasks} = useActions(tasksActions)\n\n    useEffect(() => {\n        getTasks(todolistId)\n    }, [])\n\n    const addTaskCallback = useCallback((title: string) => {\n        addTask({todolistId, title})\n    }, [todolistId])\n\n    const removeTodo = () => {\n        removeTodolist(todolistId)\n    }\n\n    const changeTodoTitle = useCallback((title: string) => {\n        changeTodolistTitle({todolistId, title})\n    }, [dispatch, todolistId])\n\n    const onFilterButton = useCallback((value: FilterValuesType) => {\n        changeFilterAC({todolistId, value})\n    }, [todolistId])\n\n    let tasksForTodolist = tasks;\n    if (todolist.filter === \"active\") {\n        tasksForTodolist = tasksForTodolist.filter(t => t.status === TaskStatuses.New);\n    }\n    if (todolist.filter === \"completed\") {\n        tasksForTodolist = tasksForTodolist.filter(t => t.status === TaskStatuses.Completed);\n    }\n\n    return (\n        <div>\n            <div>\n                <h3><EditableSpan value={todolist.title} callbackUpdate={changeTodoTitle}/>\n                    <IconButton onClick={removeTodo} disabled={todolist.entityStatus === 'loading'}>\n                        <Delete/>\n                    </IconButton>\n                </h3>\n                <AddItemForm callbackAddValue={addTaskCallback} entityStatus={todolist.entityStatus}/>\n            </div>\n            <List>\n                {tasksForTodolist.map(t => <Task key={t.id} task={t}/>)}\n                {!tasksForTodolist.length && <div style={{padding: '10px', color: 'black'}}>No tasks</div>}\n            </List>\n            <div>\n                <Button variant={todolist.filter === 'all' ? 'contained' : 'text'} color={'secondary'}\n                        onClick={() => onFilterButton('all')}>All\n                </Button>\n                <Button variant={todolist.filter === 'active' ? 'contained' : 'text'} color={'primary'}\n                        onClick={() => onFilterButton('active')}>Active\n                </Button>\n                <Button variant={todolist.filter === 'completed' ? 'contained' : 'text'} color={'inherit'}\n                        onClick={() => onFilterButton('completed')}>Completed\n                </Button>\n            </div>\n        </div>\n    );\n});\n\nexport default TodoList;","import {AppRootStoreType} from \"../../utils/types\";\n\nexport const selectIsLoggedIn = (state: AppRootStoreType) => state.auth.isLoggedIn","import {authAPI} from \"../../api/todolists-api\";\nimport {\n    handleAsyncServerAppError,\n    handleAsyncServerNetworkError,\n} from \"../../utils/error-utils\";\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {LoginParamsType, ResultCodeStatuses} from \"../../api/types\";\nimport {appActions} from \"../CommonActions/App\";\nimport {ThunkError} from \"../../utils/types\";\nimport {todolistActions} from \"../TodolistList\";\n\nconst {setAppStatus} = appActions\n\nexport const login = createAsyncThunk<undefined, LoginParamsType, ThunkError>('auth/login', async (param, thunkAPI) => {\n        thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n        try {\n            const res = await authAPI.login(param)\n            if (res.data.resultCode === ResultCodeStatuses.success) {\n                thunkAPI.dispatch(setAppStatus({status: 'succeeded'}));\n                return\n            } else {\n                return handleAsyncServerAppError(res.data, thunkAPI);\n            }\n        } catch (err: any) {\n            return handleAsyncServerNetworkError(err, thunkAPI);\n        }\n    })\n\nconst logout = createAsyncThunk('auth/logout', async (param, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatus({status: 'loading'}))\n    try {\n        const res = await authAPI.logout()\n        if (res.data.resultCode === ResultCodeStatuses.success) {\n            thunkAPI.dispatch(setAppStatus({status: 'succeeded'}));\n            thunkAPI.dispatch(todolistActions.clearDataAC());\n            return\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI);\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI);\n    }\n})\n\nexport const asyncActions = {\n    login,\n    logout\n}\n\nexport const slice = createSlice({\n    name: 'auth',\n    initialState: {\n        isLoggedIn: false\n    },\n    reducers: {\n        setIsLoggedIn(state, action: PayloadAction<{ isLoggedIn: boolean }>) {\n            state.isLoggedIn = action.payload.isLoggedIn\n        }\n    },\n    extraReducers: builder => {\n        builder.addCase(login.fulfilled, (state) => {\n            state.isLoggedIn = true\n        })\n        builder.addCase(logout.fulfilled, (state) => {\n            state.isLoggedIn = false\n        })\n    }\n})\n","import React from 'react'\nimport Grid from '@mui/material/Grid';\nimport Checkbox from '@mui/material/Checkbox';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormLabel from '@mui/material/FormLabel';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport {Paper} from \"@mui/material\";\nimport {FormikHelpers, useFormik} from \"formik\";\nimport {Navigate} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport {authActions, authSelectors} from \"./index\";\nimport {useAppDispatch} from \"../../utils/redux-utils\";\nimport {login} from \"./auth-reducer\";\n\ntype FormikType = {\n    email: string\n    password: string\n    rememberMe: boolean\n}\n\nexport const Login = () => {\n    const dispatch = useAppDispatch()\n\n    const isLoggedIn = useSelector(authSelectors.selectIsLoggedIn);\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n            rememberMe: false\n        },\n        validate: (values) => {\n            if (!values.email) {\n                return {email: 'Email is equired'};\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n                return {email: 'Invalid email address'};\n            }\n\n            if (!values.password) {\n                return {password: 'Password is required'};\n            } else if (values.password.length < 3) {\n                return {password: 'Minimum 3 symbols'};\n            }\n        },\n        onSubmit: async (values: FormikType, formikHelpers: FormikHelpers<FormikType>) => {\n            const action = await dispatch(authActions.login(values));\n            if (login.rejected.match(action)) {\n                if (action.payload?.fieldsErrors?.length) {\n                    const error = action.payload?.fieldsErrors[0]\n                    formikHelpers.setFieldError(error.field, error.error)\n                }\n            }\n        },\n    })\n\n    if (isLoggedIn) {\n        return <Navigate to={'/'}/>\n    }\n\n    return <Grid container justifyContent={'center'} style={{padding: '30px'}}>\n        <Grid item justifyContent={'center'}>\n            <Paper style={{padding: '20px', background: 'rgb(255,250,250, 0.9)'}}>\n                <form onSubmit={formik.handleSubmit}>\n                    <FormControl>\n                        <FormLabel>\n                            <p>{'To log in get registered '}\n                                <a href={'https://social-network.samuraijs.com/'}\n                                   target={'_blank'}\n                                   rel=\"noopener noreferrer\">here\n                                </a>\n                            </p>\n                            <p>or use common test account credentials:</p>\n                            <p>Email: free@samuraijs.com</p>\n                            <p>Password: free</p>\n                        </FormLabel>\n                        <FormGroup>\n                            <TextField\n                                label=\"Email\"\n                                margin=\"normal\"\n                                {...formik.getFieldProps('email')}\n                            />\n                            {formik.touched.email\n                                && formik.errors.email\n                                && <div style={{color: 'red'}}>{formik.errors.email}</div>}\n                            <TextField\n                                type=\"password\"\n                                label=\"Password\"\n                                margin=\"normal\"\n                                {...formik.getFieldProps('password')}\n                            />\n                            {formik.touched.password\n                                && formik.errors.password\n                                && <div style={{color: 'red'}}>{formik.errors.password}</div>}\n                            <FormControlLabel\n                                label={'Remember me'}\n                                control={<Checkbox checked={formik.values.rememberMe}/>}\n                                {...formik.getFieldProps('rememberMe')}\n                            />\n                            <Button type={'submit'} variant={'contained'} color={'primary'}>Login</Button>\n                        </FormGroup>\n                    </FormControl>\n                </form>\n            </Paper>\n        </Grid>\n    </Grid>\n}\n","import * as authSelectors from './selectors';\nimport {Login} from './Login';\nimport {asyncActions, slice} from \"./auth-reducer\";\n\nconst authActions = {\n    ...asyncActions,\n    ...slice.actions\n}\n\nconst authReducer = slice.reducer\n\nexport {\n    authSelectors,\n    Login,\n    authActions,\n    authReducer\n}","import React, {useCallback, useEffect} from 'react';\nimport {useSelector} from \"react-redux\";\nimport {Grid, Paper} from \"@mui/material\";\nimport TodoList from \"./todolist/TodoList\";\nimport AddItemForm from \"../../components/AddItemForm/AddItemForm\";\nimport {useNavigate} from \"react-router-dom\";\nimport {authSelectors} from \"../Auth\";\nimport {todolistActions, todolistSelectors} from \"./index\";\nimport {useActions, useAppDispatch} from \"../../utils/redux-utils\";\n\nconst TodolistsList = () => {\n    const dispatch = useAppDispatch()\n\n    const todolists = useSelector(todolistSelectors.selectTodolists);\n    const tasks = useSelector(todolistSelectors.selectTasks);\n    const isLoggedIn = useSelector(authSelectors.selectIsLoggedIn);\n    const navigate = useNavigate()\n\n    const {getTodolists, addTodolist} = useActions(todolistActions)\n\n    useEffect(() => {\n        if(isLoggedIn) {\n            getTodolists()\n        } else {\n            navigate('/login')\n        }\n    }, [isLoggedIn])\n\n    const addTodolists = useCallback((title: string) => {\n            addTodolist(title)\n    }, [dispatch])\n\n    return (\n        <div>\n            <Grid container style={{padding: '30px'}}>\n                <Paper style={{padding: '20px', background: 'rgb(255,250,250, 0.9)'}}>\n                    <AddItemForm callbackAddValue={addTodolists}/>\n                </Paper>\n            </Grid>\n            <Grid container spacing={3}>\n                {todolists.map(el => {\n                    let todolistTasks = tasks[el.id]\n\n                    return <Grid key={el.id} item>\n                            <Paper style={{padding: '15px', background: 'rgb(255,250,250, 0.9)'}} elevation={3}>\n                                <TodoList todolist={el} key={el.id} tasks={todolistTasks}/>\n                            </Paper>\n                        </Grid>\n                    }\n                )}\n            </Grid>\n        </div>\n    );\n};\n\nexport default TodolistsList;","import {authAPI} from \"../../api/todolists-api\";\nimport {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\nimport {handleAsyncServerAppError, handleAsyncServerNetworkError} from \"../../utils/error-utils\";\nimport {authActions} from \"../Auth\";\nimport {appActions} from \"../CommonActions/App\";\nimport {ResultCodeStatuses} from \"../../api/types\";\n\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\nexport type InitialStateType = {\n    // происходит ли сейчас взаимодействие с сервером\n    status: RequestStatusType\n    // если ошибка какая-то глобальная произойдёт - мы запишем текст ошибки сюда\n    error: string | null\n    // true когда приложение проинициализировалось (проверили юзера, настройки получили и т.д.)\n    isInitialized: boolean\n}\nconst {setIsLoggedIn} = authActions\n\nconst initializedApp = createAsyncThunk('app/initializedApp', async (param, thunkAPI) => {\n    try {\n        const res = await authAPI.me()\n        if (res.data.resultCode === ResultCodeStatuses.success) {\n            thunkAPI.dispatch(setIsLoggedIn({isLoggedIn: true}))\n        } else {\n            return handleAsyncServerAppError(res.data, thunkAPI)\n        }\n    } catch (err: any) {\n        return handleAsyncServerNetworkError(err, thunkAPI)\n    }\n})\n\nexport const asyncActions = {\n    initializedApp\n}\n\nexport const slice = createSlice({\n    name: 'app',\n    initialState: {\n        status: 'idle',\n        error: null,\n        isInitialized: false\n    } as InitialStateType,\n    reducers: {},\n    extraReducers: builder => {\n        builder.addCase(initializedApp.fulfilled, (state) => {\n            state.isInitialized = true\n        });\n        builder.addCase(appActions.setAppError, (state, action) => {\n            state.error = action.payload.error\n        });\n        builder.addCase(appActions.setAppStatus, (state, action) => {\n            state.status = action.payload.status\n        })\n    }\n})\n","import * as appSelectors from './selectors'\nimport {asyncActions, slice} from \"./app-reducer\";\n\nconst appReducer = slice.reducer\nconst actions = slice.actions\n\nconst appActions = {\n    ...actions,\n    ...asyncActions\n}\nexport {\n    appSelectors,\n    appReducer,\n    appActions\n}\n","import React, {useCallback, useEffect} from 'react';\nimport './App.css';\nimport {\n    AppBar,\n    Box,\n    Button, CircularProgress,\n    Container,\n    IconButton,\n    LinearProgress,\n    Toolbar,\n    Typography\n} from \"@mui/material\";\nimport {Menu} from \"@mui/icons-material\";\nimport {ErrorSnackbar} from \"../components/ErrorSnackBar/ErrorSnackBar\";\nimport {Navigate, Route, Routes} from \"react-router-dom\";\nimport TodolistsList from \"../features/TodolistList/TodolistsList\";\nimport {useSelector} from \"react-redux\";\nimport {selectIsInitialized, selectStatus} from \"../features/App/selectors\";\nimport {authActions, authSelectors, Login} from \"../features/Auth\";\nimport {useActions} from \"../utils/redux-utils\";\nimport {appActions} from \"../features/App\";\n\nfunction App() {\n    const status = useSelector(selectStatus);\n    const isInitialized = useSelector(selectIsInitialized);\n    const isLoggedIn = useSelector(authSelectors.selectIsLoggedIn);\n\n    const {logout} = useActions(authActions)\n    const {initializedApp} = useActions(appActions)\n\n    const logoutHandler = useCallback(() => logout(), [])\n\n    useEffect(() => {\n            initializedApp()\n    }, [])\n\n    if (!isInitialized) {\n        return <div\n            style={{position: 'fixed', top: '30%', textAlign: 'center', width: '100%'}}>\n            <CircularProgress/>\n        </div>\n    }\n\n    return (\n        <div className=\"App\">\n            <ErrorSnackbar />\n            <Box sx={{ flexGrow: 1 }}>\n            <AppBar position=\"static\" color={'secondary'}>\n                <Toolbar>\n                    <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" sx={{ mr: 2 }}>\n                        <Menu/>\n                    </IconButton>\n                    <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n                        TO DO LIST\n                    </Typography>\n                    {isLoggedIn && <Button color=\"inherit\" onClick={logoutHandler}>Log out</Button>}\n                </Toolbar>\n                {status === 'loading' && <LinearProgress/>}\n            </AppBar>\n            </Box>\n            <Container fixed>\n                <Routes>\n                    <Route path={'/'} element={<TodolistsList/>}/>\n                    <Route path={'login'} element={<Login/>}/>\n                    <Route path={'404'} element={<h1 style={{textAlign: 'center', color: 'white'}}>404 page not found</h1>}/>\n                    <Route path={'*'} element={<Navigate to={'404'}/>}/>\n                </Routes>\n            </Container>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers} from \"redux\";\nimport thunk from 'redux-thunk'\nimport {configureStore} from \"@reduxjs/toolkit\";\nimport {authReducer} from \"../features/Auth\";\nimport {appReducer} from \"../features/App\";\nimport {tasksReducer, todolistReducer} from \"../features/TodolistList\";\n\nexport const rootReducer = combineReducers({\n    todolists: todolistReducer,\n    tasks: tasksReducer,\n    app: appReducer,\n    auth: authReducer\n})\nexport const store = configureStore({\n    reducer: rootReducer,\n    middleware: getDefaultMiddleware => getDefaultMiddleware().prepend(thunk)\n})\n\n// useAppSelector - hook/container with already an applied type of the whole app. No need app type in useSelector now.\n// export const useAppSelector: TypedUseSelectorHook<AppRootStoreType> = useSelector\n\n//@ts-ignore\nwindow.store = store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./app/store\";\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter>\n            <App/>\n        </HashRouter>\n    </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}